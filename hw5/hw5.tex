\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{graphicx,enumerate}
\usepackage{amsmath,amssymb,amsfonts}
\renewcommand\vec[1]{\mathbf{#1}}
\usepackage{listings}
\usepackage[table]{xcolor}
\usepackage{framed,comment}
\newcommand\vx {\mathbf{x}}
\newcommand\vy {\mathbf{y}}
\newcommand\vb{\mathbf{b}}
\newcommand\vc{\mathbf{c}}
\newcommand\red[1]{\textcolor{red}{#1}}
\specialcomment{solution}{\bigskip\begin{leftbar}\par\noindent\textbf{Solution.} }{\end{leftbar} }
\excludecomment{solution}
\begin{document}

\begin{tabular}{l}
	\textbf{CSCI 5654-Fall16}: Assignment \#5 \\
	\textbf{Robert Werthman} \phantom{Supercalifragilisticexpialidocius Smith} \\
	\hline \\[10pt]
\end{tabular}

\noindent\textbf{P1.}
\\
\noindent\textbf{(A)}
\\
Solve the initial linear equation and then branch on any variables that have a fractional value.  Add the constrains of the fractional variables, solve the linear equation, and repeat until the solution is integral and not fractional.\\ \\
\begin{tabular}{|l|l|l|}
\hline
Branches & Solution & Optimal value \\ \hline
& $x = [-5\quad-5\quad1.5\quad-.5]$ & 2.5 \\ \hline
$x_4 \leq -1$ & $x = [-5\quad-5\quad2\quad-1]$ & 2\\ \hline
$x_4 \geq 0$ & $x = [-2\quad-4\quad0\quad0]$ & 2 \\ \hline
\end{tabular}
\\ \\
The optimal value of the objective function is 2.  One solution leads to this value is: 
$$
x_1 = 1 \quad x_2 = 1 \quad x_3 = 1 \quad x_4 = 1
$$


\noindent\textbf{(B)}
\\
\begin{tabular}{|l|l|l|}
\hline
Branches & Solution & Optimal value \\ \hline
& $x = [1.3333\quad1\quad1\quad.6667]$ & 6.3333 \\ \hline
$x_4 \geq 1$ & $x = [1\quad1\quad1\quad1]$ & 6 \\ \hline
$x_4 \leq 0$ & $x = [0\quad1\quad1\quad0]$ & 3 \\ \hline
$x_1 \leq 1$ & $x = [1\quad1\quad1\quad1]$ & 6 \\ \hline
$x_1 \geq 2$ & Infeasible & \\ \hline
\end{tabular}
\\ \\
The optimal value of the objective function is 6.  One solution leads to this value is:
$$
x_1 = 1 \quad x_2 = 1 \quad x_3 = 1 \quad x_4 = 1
$$

\newpage
\noindent\textbf{P2.}
\\
\noindent\textbf{Dictionary \# 1}
\\
First, we choose $x_1$ because it is a variable with a fractional solution.  We rewrite the equation for $x_1$ as:
$$
0.666667 x_{5} - 0.333333 x_{4} + x_1 = 0.666666666667
$$
Next we rewrite the above equation in terms of an integer part and a fractional part.
$$
(0x_5 - x_4 + x_1) + (0.666667 x_{5} + 0.777777 x_{4}) = 0 + 0.666666666667
$$
The fractional part $(0.666667 x_{5} + 0.777777 x_{4}) \geq 0.666666666667$.
The cutting plane is then given by the equation:
$$
(0.666667 x_{5} + 0.777777 x_{4}) + w_6 = 0.666666666667
$$

\noindent\textbf{Dictionary \# 2} 
\\
Equations for variables with fractional solutions:
\begin{align*}
-0.333333 x_{8} - 0.666667 x_{9} + 0.333333 x_{3} + x_{4} = 4.33333333333 \\
0.333333 x_{8} - 0.333333 x_{9} + 2.666667 x_{3} + x_{5} = 8.66666666667 \\
0.333333 x_{8} + 0.666667 x_{9} - 0.333333 x_{3} + x_{1} = 5.66666666667 \\
-0.333333 x_{8} + 0.333333 x_{9} - 2.666667 x_{3} + x_{2} = 1.33333333333 \\
\end{align*}
Equations written with integral and fractional parts:
\begin{align*}
(-x_8 - x_9 +0x_3 + x_4) + (0.777777 x_{8} + 0.444443 x_9 + 0.333333 x_{3}) = 4 + .33333333333 \\
(0x_8 - x_9 + 2x_3 +x_5) + (0.333333 x_{8} + 0.777777 x_{9} + 666667 x_{3}) = 8 + .66666666667 \\
(0x_8 + 0x_9 - x_3 + x_1) + (0.333333 x_{8} + 0.666667 x_{9} + 0.777777 x_{3}) = 5 + .66666666667 \\
(-x_8 + 0x_9 -3x_3 + x_2) + (0.777777 x_{8} + 0.333333 x_{9} + 0.444443 x_{3}) = 1 + .33333333333 \\
\end{align*}
Cutting planes for the above equations:
\begin{align*}
(0.777777 x_{8} + 0.444443 x_9 + 0.333333 x_{3}) + w_{10}= .33333333333 \\
(0.333333 x_{8} + 0.777777 x_{9} + 666667 x_{3}) + w_{11}= .66666666667 \\
(0.333333 x_{8} + 0.666667 x_{9} + 0.777777 x_{3}) + w_{12}= .66666666667 \\
(0.777777 x_{8} + 0.333333 x_{9} + 0.444443 x_{3}) + w_{13}= .33333333333 \\
\end{align*}

\medskip

\noindent\textbf{P3 (20 points).}  Consider the graph below
which shows various locations and the driving times between them in hours:

\begin{center}
\end{center}

Our goal is to decide whether or not to place a hospital at each node.
The following are the cost of building a hospital at various nodes
in millions of dollars:

\[\begin{tabular}{|c|c|}
\hline
\mbox{Node} & \mbox{Cost}\\
\hline
1 & 3 \\
2 & 3 \\
3 & 1.5 \\
4 & 1 \\
5 & 1.2 \\
6 & 1.3 \\
7 & 0.9 \\
8 & 0.8 \\
\hline
\end{tabular}\]

The following constraints should apply to our placement of hospitals:
each node should either have a hospital or be within $1$ hour driving
distance of a hospital.

For your convenience, the table of pairwise shortest path distances is given 
as an excel spreadsheet.

\noindent\textbf{(A)} Let $G$ be a graph with $n$ nodes
and $W(i,j)$ denote the shortest path weight between nodes $i$ and $j$.
Finally let $\mathbf{c}$ be a $n \times 1$ vector of node costs.
Write down an integer linear programming formulation of the above problem.

\noindent\textbf{(B)} Formulate and solve your ILP for the given example.

\medskip

\noindent\textbf{P4 (15 points)} Consider a polyhedron $P$ given
by the constraints
 \[ A \mathbf{x} \leq \mathbf{b},\ \mathbf{\ell}\ \leq\ \mathbf{x}\ \leq\ \mathbf{u}\,. \]


\begin{enumerate}[(a)]
\item  Write down mixed integer programs that will find the
point $\mathbf{x} \in P$ with the largest number of
$0$ entries in $\mathbf{x}$, 
\item Write down mixed integer programs that will find the
point $\mathbf{x} \in P$ with the smallest number of $0$ entries in $\mathbf{x}$.
\end{enumerate}

\noindent (c) Write down a mixed integer program that will search for a solution
$\mathbf{x} \in P$ maximizing an objective function $\mathbf{c}^t \mathbf{x}$ 
such that $\mathbf{x}$ \emph{does not satisfy}
$\mathbf{a} \leq \mathbf{x} \leq \mathbf{b}$, for given $\mathbf{a}, \mathbf{b}$.

\medskip

\noindent\textbf{P5 (10 points)} We are given  sets of numbers
$\left\langle{S_1,\ldots,S_k}\right\rangle$ such that each $S_i \subseteq \{1,\ldots, n\}$.
For example, $n = 10$ and the sets are
\[ S_1: \{ 1,3,6\},\ S_2:\ \{2, 7, 8\},\ S_3:\ \{1,8,9\},\ S_4:\ \{1,6,5,3\} \,.\]

Our goal is to select a subset $S \subseteq \{ 1, 2, \ldots, n\}$ such that 
$S \cap S_i \not= \emptyset$ for $i = 1,\ldots, k$ and the sum of elements
in the chosen set $S$ is minimized.

Formulate a $0-1$ ILP for the problem for given $n, k, \left\langle{S_1,\ldots,S_k}\right\rangle$. Also,
 solve it for the example above.



\end{document}
